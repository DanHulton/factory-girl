{"version":3,"file":"index.es6.js","sources":["../src/utils/asyncPopulate.js","../src/Factory.js","../src/generators/Generator.js","../src/generators/Sequence.js","../src/generators/ModelGenerator.js","../src/generators/Assoc.js","../src/generators/AssocAttrs.js","../src/generators/Build.js","../src/generators/ManyModelGenerator.js","../src/generators/AssocMany.js","../src/generators/AssocAttrsMany.js","../src/generators/BuildMany.js","../src/generators/ChanceGenerator.js","../src/generators/attrGenerator.js","../src/adapters/DefaultAdapter.js","../src/FactoryGirl.js","../src/index.js"],"sourcesContent":["/**\n * Created by chetanv on 07/06/16.\n */\n\nimport Debug from 'debug';\n\nconst debug = Debug('asyncPopulate');\n\nfunction asyncPopulate(target, source) {\n  if(typeof target !== 'object') {\n    return Promise.reject(new Error('Invalid target passed'));\n  }\n\n  if(typeof source !== 'object') {\n    return Promise.reject(new Error('Invalid source passed'));\n  }\n\n  const promises = [];\n  Object.keys(source).forEach((attr) => {\n    if (Array.isArray(source[attr])) {\n      target[attr] = [];\n      promises.push(asyncPopulate(target[attr], source[attr]));\n    } else if (typeof source[attr] === 'object') {\n      target[attr] = target[attr] || {};\n      promises.push(asyncPopulate(target[attr], source[attr]));\n    } else if (typeof source[attr] === 'function') {\n      promises.push(Promise.resolve(source[attr]()).then(function(v) { target[attr] = v; }));\n    } else {\n      promises.push(Promise.resolve(source[attr]).then(function(v) { target[attr] = v; }));\n    }\n  });\n\n  return Promise.all(promises)\n}\n\nexport default asyncPopulate;","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport asyncPopulate from './utils/asyncPopulate';\nimport Debug from 'debug';\n\nconst debug = Debug('Factory');\n\nclass Factory {\n  name = null;\n  Model = null;\n  initializer = null;\n  options = null;\n\n  constructor(Model, initializer, options = {}) {\n    if (!Model || typeof Model !== 'function') {\n      throw new Error('Invalid Model passed to the factory');\n    }\n\n    if (!initializer || (typeof initializer !== 'object' && typeof initializer !== 'function')) {\n      throw new Error('Invalid initializer passed to the factory');\n    }\n\n    this.Model = Model;\n    this.initializer = initializer;\n    this.options = options;\n  }\n\n  getFactoryAttrs(buildOptions = {}) {\n    let attrs = {};\n    if (typeof this.initializer === 'function') {\n      attrs = this.initializer(buildOptions);\n    } else {\n      attrs = {...this.initializer};\n    }\n\n    return Promise.resolve(attrs);\n  }\n\n  async attrs(attrs = {}, buildOptions = {}) {\n    const factoryAttrs = await this.getFactoryAttrs(buildOptions);\n    const modelAttrs = {};\n\n    await asyncPopulate(modelAttrs, factoryAttrs);\n    await asyncPopulate(modelAttrs, attrs);\n\n    return modelAttrs;\n  }\n\n  async build(adapter, attrs = {}, buildOptions = {}) {\n    const modelAttrs = await this.attrs(attrs, buildOptions);\n    return adapter.build(this.Model, modelAttrs);\n  }\n\n  async create(adapter, attrs = {}, buildOptions = {}) {\n    const model = await this.build(adapter, attrs, buildOptions);\n    return adapter.save(this.Model, model);\n  }\n\n  attrsMany(num, attrsArray = [], buildOptionsArray = []) {\n    const models = [];\n    let attrObject = null;\n    let buildOptionsObject = null;\n\n    if (typeof attrsArray === 'object' && !Array.isArray(attrsArray)) {\n      attrObject = attrsArray;\n      attrsArray = [];\n    }\n\n    if (!Array.isArray(buildOptionsArray) && typeof buildOptionsArray === 'object') {\n      buildOptionsObject = buildOptionsArray;\n      buildOptionsArray = [];\n    }\n\n    if (typeof num !== 'number' || num < 1) {\n      return Promise.reject(new Error('Invalid number of objects requested'));\n    }\n\n    if (!Array.isArray(attrsArray)) {\n      return Promise.reject(new Error('Invalid attrsArray passed'));\n    }\n\n    if (!Array.isArray(buildOptionsArray)) {\n      return Promise.reject(new Error('Invalid buildOptionsArray passed'));\n    }\n\n    attrsArray.length = buildOptionsArray.length = num;\n    for (let i = 0; i < num; i++) {\n      models[i] = this.attrs(\n        attrObject || attrsArray[i] || {},\n        buildOptionsObject || buildOptionsArray[i] || {}\n      );\n    }\n\n    return Promise.all(models);\n  }\n\n  async buildMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    const attrs = await this.attrsMany(num, attrsArray, buildOptionsArray);\n    const models = attrs.map((attr) => adapter.build(this.Model, attr));\n    return Promise.all(models);\n  }\n\n  async createMany(adapter, num, attrsArray = [], buildOptionsArray = []) {\n    const models = await this.buildMany(adapter, num, attrsArray, buildOptionsArray);\n    const savedModels = models.map((model) => adapter.save(this.Model, model));\n    return Promise.all(savedModels);\n  }\n}\n\nexport default Factory;","/**\n * Created by chetanv on 01/06/16.\n */\n\nclass Generator {\n  constructor(factoryGirl) {\n    if (!factoryGirl) {\n      throw new Error('No FactoryGirl instance passed.');\n    }\n    this.factoryGirl = factoryGirl;\n  }\n\n  generate() {\n    throw new Error('Override this method to generate a value');\n  }\n}\n\nexport default Generator;","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport Generator from './Generator';\n\nclass Sequence extends Generator {\n  static sequences = {};\n  id = '';\n\n  constructor(factoryGirl, id, callback = null) {\n    super(factoryGirl);\n\n    if (typeof id !== 'string') {\n      throw new Error('Invalid sequence key passed');\n    }\n\n    this.id = id;\n\n    Sequence.sequences[id] = Sequence.sequences[id] || 1;\n    this.callback = callback;\n  }\n\n  generate() {\n    const count = Sequence.sequences[this.id]++;\n    return Promise.resolve(this.callback ? this.callback(count) : count);\n  }\n}\n\nexport default Sequence;","/**\n * Created by chetanv on 06/06/16.\n */\n\nimport Generator from './Generator';\n\nclass ModelGenerator extends Generator {\n  constructor(factoryGirl, name, key = null, attrs = {}, buildOptions = {}) {\n    super(factoryGirl);\n\n    if (typeof name !== 'string' || name.length < 1) {\n      throw new Error('Invalid model name passed');\n    }\n\n    this.name = name;\n    this.key = key;\n    this.attrs = attrs;\n    this.buildOptions = buildOptions;\n  }\n}\n\nexport default ModelGenerator;\n","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport ModelGenerator from './ModelGenerator';\n\nclass Assoc extends ModelGenerator {\n  async generate() {\n    const model = await this.factoryGirl.create(this.name, this.attrs, this.buildOptions);\n    return this.key ? model[this.key] : model;\n  }\n}\n\nexport default Assoc;\n","/**\n * Created by chetanv on 08/06/16.\n */\n\nimport ModelGenerator from './ModelGenerator';\n\nclass AssocAttrs extends ModelGenerator {\n  async generate() {\n    const model = await this.factoryGirl.attrs(this.name, this.attrs, this.buildOptions);\n    return this.key ? model[this.key] : model;\n  }\n}\n\nexport default AssocAttrs;\n","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport ModelGenerator from './ModelGenerator';\n\nclass Build extends ModelGenerator {\n  async generate() {\n    const model = await this.factoryGirl.build(this.name, this.attrs, this.buildOptions);\n    return this.key ? model[this.key] : model;\n  }\n}\n\nexport default Build;","/**\n * Created by chetanv on 08/06/16.\n */\n\nimport ModelGenerator from './ModelGenerator';\n\nclass ManyModelGenerator extends ModelGenerator {\n  constructor(factoryGirl, name, num, key = null, attrs = {}, buildOptions = {}) {\n    super(factoryGirl, name, key, attrs, buildOptions);\n\n    if (typeof num !== 'number' || num < 1) {\n      throw new Error('Invalid number of items requested.');\n    }\n\n    this.num = num;\n  }\n}\n\nexport default ManyModelGenerator;","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport ManyModelGenerator from './ManyModelGenerator';\n\nclass AssocMany extends ManyModelGenerator {\n  async generate() {\n    const models = await this.factoryGirl.createMany(this.name, this.num, this.attrs, this.buildOptions);\n    return this.key ? models.map(model => model[this.key]) : models;\n  }\n}\n\nexport default AssocMany;","/**\n * Created by chetanv on 08/06/16.\n */\n\n\nimport ManyModelGenerator from './ManyModelGenerator';\n\nclass AssocAttrsMany extends ManyModelGenerator {\n  async generate() {\n    const models = await this.factoryGirl.attrsMany(this.name, this.num, this.attrs, this.buildOptions);\n    return this.key ? models.map(model => model[this.key]) : models;\n  }\n}\n\nexport default AssocAttrsMany;","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport ManyModelGenerator from './ManyModelGenerator';\n\nclass BuildMany extends ManyModelGenerator {\n  async generate() {\n    const models = await this.factoryGirl.buildMany(this.name, this.num, this.attrs, this.buildOptions);\n    return this.key ? models.map(model => model[this.key]) : models;\n  }\n}\n\nexport default BuildMany;","/**\n * Created by chetanv on 08/06/16.\n */\n\nimport Generator from './Generator';\nimport Chance from 'chance';\nimport Debug from 'debug';\n\nconst debug = Debug('Chance');\nconst chance = new Chance();\n\nclass ChanceGenerator extends Generator {\n  method = null;\n  params = null;\n\n  constructor(factoryGirl, chanceMethod, options) {\n    super(factoryGirl);\n\n    if(typeof chance[chanceMethod] !== 'function') {\n      throw new Error('Invalid chance method requested');\n    }\n\n    this.method = chanceMethod;\n    this.params = options;\n  }\n\n  generate() {\n    return Promise.resolve(chance[this.method](this.params));\n  }\n}\n\nexport default ChanceGenerator;","/**\n * Created by chetanv on 01/06/16.\n */\n\nexport default function (factoryGirl, SomeGenerator) {\n  return function () {\n    const generator = new SomeGenerator(factoryGirl, ...arguments);\n    return function () {\n      return generator.generate();\n    }\n  }\n}","/**\n * Created by chetanv on 01/06/16.\n */\n\n\nclass DefaultAdapter {\n  build(Model, props) {\n    return Promise.resolve(new Model(props));\n  }\n\n  save(Model, model) {\n    return Promise.resolve(model.save()).then(function () {\n      return model;\n    });\n  }\n  \n  destroy(Model, model) {\n    return Promise.resolve(model.destroy()).then(function () {\n      return model;\n    });\n  }\n}\n\nexport default DefaultAdapter;\n","/**\n * Created by chetanv on 01/06/16.\n */\n\nimport Factory from './Factory';\nimport Sequence from './generators/Sequence';\nimport Assoc from './generators/Assoc';\nimport AssocAttrs from './generators/AssocAttrs';\nimport Build from './generators/Build';\nimport AssocMany from './generators/AssocMany';\nimport AssocAttrsMany from './generators/AssocAttrsMany';\nimport BuildMany from './generators/BuildMany';\nimport ChanceGenerator from './generators/ChanceGenerator';\nimport attrGenerator from './generators/attrGenerator';\nimport DefaultAdapter from './adapters/DefaultAdapter';\nimport Debug from 'debug';\n\nconst debug = Debug('FactoryGirl');\n\nclass FactoryGirl {\n  factories = {};\n  options = {};\n  adapters = {};\n  created = new Set();\n\n  constructor(options) {\n    this.assoc = attrGenerator(this, Assoc);\n    this.assocMany = attrGenerator(this, AssocMany);\n    this.assocBuild = attrGenerator(this, Build);\n    this.assocBuildMany = attrGenerator(this, BuildMany);\n    this.assocAttrs = attrGenerator(this, AssocAttrs);\n    this.assocAttrsMany = attrGenerator(this, AssocAttrsMany);\n    this.seq = this.sequence = attrGenerator(this, Sequence);\n    this.chance = attrGenerator(this, ChanceGenerator);\n\n    this.defaultAdapter = new DefaultAdapter;\n    this.options = options;\n  }\n\n  define(name, Model, initializer, options) {\n    if (this.getFactory(name, false)) {\n      throw new Error(`factory ${name} already defined`)\n    }\n\n    this.factories[name] = new Factory(Model, initializer, options);\n  }\n\n  attrs(name, attrs, buildOptions) {\n    return this.getFactory(name).attrs(attrs, buildOptions);\n  }\n\n  build(name, attrs, buildOptions) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name).build(adapter, attrs, buildOptions);\n  }\n\n  create(name, attrs, buildOptions) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name).create(adapter, attrs, buildOptions).then((createdModel) => {\n      this.addToCreatedList(adapter, createdModel);\n      return createdModel;\n    });\n  }\n\n  attrsMany(name, num, attrs, buildOptions) {\n    return this.getFactory(name).attrsMany(num, attrs, buildOptions);\n  }\n\n  buildMany(name, num, attrs, buildOptions) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name).buildMany(adapter, num, attrs, buildOptions);\n  }\n\n  createMany(name, num, attrs, buildOptions) {\n    const adapter = this.getAdapter(name);\n    return this.getFactory(name).createMany(adapter, num, attrs, buildOptions).then((createdModels) => {\n      this.addToCreatedList(adapter, createdModels);\n      return createdModels;\n    });\n  }\n\n  getFactory(name, throwError = true) {\n    if(!this.factories[name]) {\n      if(throwError) {\n        throw new Error('Invalid factory requested');\n      }\n    }\n    return this.factories[name];\n  }\n\n  withOptions(options, merge = false) {\n    this.options = merge ? {...this.options, ...options} : options;\n  }\n\n  getAdapter(factory) {\n    return factory ? (this.adapters[factory] || this.defaultAdapter) : this.defaultAdapter;\n  }\n\n  addToCreatedList(adapter, models) {\n    if(!Array.isArray(models)) {\n      models = [models];\n    }\n\n    for(let model of models) {\n      this.created.add([adapter, model]);\n    }\n  }\n\n  cleanUp() {\n    const promises = [];\n    for(let [adapter, model] of this.created) {\n      promises.push(adapter.destroy(model.constructor, model));\n    }\n    this.created.clear();\n    return Promise.all(promises);\n  }\n\n  setAdapter(adapter, factory) {\n    if (!factory) {\n      this.defaultAdapter = adapter;\n    } else {\n      this.adapters[factory] = adapter;\n    }\n  }\n}\n\nexport default FactoryGirl;","/**\n * Created by chetanv on 07/06/16.\n */\n\nimport FactoryGirl from './FactoryGirl';\n\nconst factory = new FactoryGirl();\n\nexport default factory;"],"names":["debug"],"mappings":"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"}